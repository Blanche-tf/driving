Simple.Module({name:"jiakao:router/error",require:[]},function(e,t,o,r){var i=function(e,t){t.send({code:404,type:"file",context:"static:404.html"})};t.exports={c404:i}});
Simple.Module({name:"jiakao:router/main",require:["./base/assets","./base/default","./detail/main"]},function(e,a,s,i){i.Router;e("./base/assets"),e("./base/default"),e("./detail/main")});
Simple.Module({name:"jiakao:router/base/assets",require:[]},function(e,t,n,o){var s=o.Router,c=function(e){return e=e.replace(/(^[^\/]+)\//gi,"$1:"),o.Module.path.source(e,null)},u=function(e,t){var n=c(e.path);n?t.send({code:200,type:"file",context:n}):t.send({code:404,context:"404"})};s.use(["/web-assets/*","/core-assets/*"],function(e,t){u(e,t)}),s.use(["/favicon.png","/favicon.ico"],function(e,t){t&&t.send({code:200,type:"file",context:"static:"+t.request.url.substring(1)})})});
Simple.Module({name:"jiakao:router/base/default",require:["../error"]},function(e,t,o,s){var r=s.Router,n=e("../error"),c=function(e){-1===e.request.headers.host.indexOf(".test.")?e.send({code:200,type:"file",context:s.Server.root+"../static/robots.txt"}):e.send({code:200,type:"file",context:s.Server.root+"../static/robots-test.txt"})};r.use("/api/mucang/monitor.htm",function(e,t){t&&t.send({code:200,type:"json",context:{success:!0,errorCode:0,message:null,data:"easy! it's ok => "+ +new Date}})}),r.use(function(e,t){var o,r;t&&(e||(e=""),e=e.split("?"),o=/\.\w+$/gi.exec(e[0]),"/robots.txt"===e[0]?c(t):o?(e[0]&&!/^\//.test(e[0])&&(e[0]=e[0].replace(/^([^\/]*)\//,"/")),t.send({code:200,type:"file",context:s.Server.root+"../static"+e[0],callback:function(e){e&&t.response.status(404).sendFile(s.Module.path.source("static:404.html",null))}})):"/"!==e[0].substr(-1)?(r=e[0].indexOf("/"),r>-1&&(e[0]=e[0].substr(r)),t.send({code:301,context:e[0]+"/"+(e[1]?"?"+e[1]:"")})):n.c404(e,t))})});
Simple.Module({name:"jiakao:router/detail/main",require:["jiakao:application/detail/main","jiakao:application/list/main"]},function(t,i,n,r){var e=r.Router,a=t("jiakao:application/detail/main"),o=t("jiakao:application/list/main"),u=function(t,i){var n;if(!i||0===i.lenght)return!0;if(i.push("id"),!t)return!1;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&-1===i.indexOf(n))return!1;return!0},p=function(t){var i,n,r,e={},a=t.split("-");for(e.id=a[0],i=1;i<a.length;i++){if(!a[i])return!1;n=a[i].substr(0,1),r=a[i].substr(1),e[n]=r}return e};e.use(["/list/"],function(t,i){return o.create({params:t,context:i}).render()}),e.use(["/:options/"],function(t,i){return o.create({params:t,context:i}).render()},{options:function(t,i){var n=p(t);return!(!n||"list"!==n.id)&&(delete n.id,!!u(n,["b","s","t","c","p"])&&(!(n.p&&!n.p.match(/^\d+$/))&&n))}}),e.use("/detail/:options.html",function(t,i){return a.create({params:t,context:i}).render()},{options:function(t,i){var n=p(t);return!!u(n,["a","p"])&&(!!n.id.match(/^\d+$/)&&(!(n.p&&!n.p.match(/^\d+$/))&&n))}})});